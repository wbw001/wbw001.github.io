import{u as w,r as d,A as g,j as e,M as h,S as v,h as S,a as f,J as k,d as y}from"./index-CzutaARU.js";import{I as C,B as A}from"./index.es-BDC6VRPC.js";import{s as M,b as D,c as _,S as T,u as I,a as R}from"./hoooks-C1WS9nrg.js";import"./useQuery-CHmvCLgv.js";const B=s=>{M.select_style=s||null},E=({styles:s,onClose:m})=>{var u;const{data:c,refetch:x,isRefetching:o,loadMore:a,load_end:t}=D(s==null?void 0:s.uuid),l=w(),[n,p]=d.useState(0),N=d.useCallback(async(i,b)=>{if(i){const j=await g.SwaggerApi.post_styles_like({uuid:i});console.log(j,"==res"),g.isSuccess(j)&&p((b||0)+1)}},[]),{detail:r}=_(s==null?void 0:s.uuid);return d.useEffect(()=>{p(0)},[s==null?void 0:s.uuid]),e.jsxs("dialog",{id:h.style_detail_modal,className:"modal",onClose:m,children:[e.jsxs("div",{className:"modal-box",children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm modal-close btn-circle btn-ghost absolute right-2 top-2",children:e.jsx("img",{src:"/images/close.png",alt:""})})}),e.jsxs("div",{className:" flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-[24px]",children:s==null?void 0:s.name}),e.jsxs("div",{className:" flex justify-start items-center mt-1",children:[e.jsx("div",{className:"avatar placeholder",children:e.jsx("div",{className:"bg-neutral text-neutral-content w-8 rounded-full",children:e.jsx("span",{className:"text-xs",children:((u=r==null?void 0:r.data.name)==null?void 0:u.slice(0,2))||""})})}),e.jsxs("span",{className:" text-[10px]  ml-2",children:["Created by ",r==null?void 0:r.data.name]})]})]}),e.jsxs("div",{className:"tips1",children:[e.jsxs("div",{className:" flex items-center justify-end",children:[e.jsx("button",{onClick:()=>{N(s==null?void 0:s.uuid,s==null?void 0:s.likes)},className:"btn btn-text",children:e.jsx("img",{src:"/images/like.png",alt:""})}),e.jsx("span",{className:" ml-2 text-[12px]",children:n||(s==null?void 0:s.likes)})]}),e.jsxs("div",{className:" flex items-center justify-end mt-2",children:[e.jsx("img",{className:" w-[22px]",src:"/images/point.png",alt:""}),e.jsxs("span",{children:["+",s==null?void 0:s.loyalty_points]})]})]})]}),e.jsx("p",{className:"pt-[7px] pb-1 text-[14px]",children:"View the output generated by other DAO members for reference"}),e.jsxs("div",{className:"  h-[252px] overflow-auto",children:[o&&e.jsx("div",{className:" flex justify-center items-center",children:e.jsx("span",{className:"loading loading-dots loading-sm"})}),e.jsx(C,{dataLength:c.length,next:a,hasMore:!t,loader:e.jsx("div",{className:" flex justify-center items-center",children:e.jsx("span",{className:"loading loading-dots loading-sm"})}),endMessage:e.jsx("p",{style:{textAlign:"center"},children:e.jsx("b",{children:c.length===0?"No Data!":"Load ended!"})}),refreshFunction:x,pullDownToRefresh:!0,pullDownToRefreshThreshold:50,pullDownToRefreshContent:e.jsx("h3",{style:{textAlign:"center"},children:"↓ Pull down to refresh"}),releaseToRefreshContent:e.jsx("h3",{style:{textAlign:"center"},children:"↑ Release to refresh"}),children:e.jsx("div",{className:"grid gap-2 grid-cols-2",children:c.map(i=>e.jsx("div",{className:"",children:e.jsx(T,{data:i})},i.uuid))})})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{onClick:()=>{var i;(i=document.getElementById(h.style_detail_modal))==null||i.showModal(),B(s),l(-1)},className:" btn btn-primary",children:e.jsx("span",{className:" text-[16px]",children:"Use this style"})})})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]})},L=E,F=y.div`
  width: 100vw;
  /* height: 50px; */
  .swiper {
    width: 100%;
    height: 100%;
  }
  .swiper-wrapper {
    transition-timing-function: linear;
  }

  .swiper-slide {
    text-align: center;
    font-size: 18px;

    /* Center slide text vertically */
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`;function z(){const[s,m]=d.useState();I();const{styles:c}=R(),x=d.useMemo(()=>{const o=Math.floor(c.length/2);return c.reduce((a,t,l)=>{const n=l%o;return a[n]=a[n].concat(t),a},[[],[],[],[]])},[c]);return e.jsxs("div",{className:"h-full relative",children:[e.jsx(A,{title:"created by contributer"}),e.jsx("div",{className:" text-poppins-bold text-[49px] ml-[30px]",children:"The styles"}),e.jsx("div",{children:x.map((o,a)=>e.jsx(F,{className:" mt-5",children:e.jsxs(v,{slidesPerView:2,spaceBetween:30,pagination:{clickable:!0},loop:!0,speed:2e3-a*200,autoplay:{delay:0},modules:[S],className:"mySwiper",onAfterInit:t=>{setTimeout(()=>{var l;(l=t==null?void 0:t.autoplay)==null||l.start()},800+a*400)},children:[e.jsx(f,{className:" w-4"}),o.map((t,l)=>e.jsx(f,{style:{paddingTop:l%2===0?"0":"8px"},children:e.jsx("button",{className:"box-shadow1 btn btn-outline h-[56x] min-w-[180px]",style:{background:(s==null?void 0:s.uuid)===t.uuid?"#948C8C":void 0},onClick:()=>{var n;m(t),(n=document.getElementById(h.style_detail_modal))==null||n.showModal()},children:e.jsx("span",{className:" text-sm",children:t.name})})},t.uuid))]})},a))}),e.jsx("div",{className:" flex justify-center absolute  bottom-16 w-full",children:e.jsx("button",{style:{display:s?"none":"block"},onClick:()=>{k("Please choose one style")},className:" btn btn-primary",children:e.jsx("span",{className:" text-[16px]",children:"Create my own style prompt"})})}),e.jsx(L,{styles:s,onClose:()=>{m(void 0)}})]})}export{z as default};
