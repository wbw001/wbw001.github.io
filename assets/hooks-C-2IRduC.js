import{T as i,p as c,b as T,r as k,A as g}from"./index-CyAfKOV5.js";import{u as d}from"./useQuery-C4qGFjhU.js";const I=Object.keys(i).reduce((s,a)=>{const e=i[a];return s[e]=a,s},{}),t=c({data:null,tasks:{Create_avator_Task:null,Invite_Task:null,Sign_In_Task:null,Be_like_Task:null,Registration_Task:null},task_total_reward:{Create_avator_Task:0,Invite_Task:0,Sign_In_Task:0,Be_like_Task:0,Registration_Task:0},user_points:0,nodes:null}),h=()=>T(t),C=()=>{const{data:s,isPending:a,refetch:e}=d({queryKey:["get_rewards_and_tasks"],queryFn:()=>g.SwaggerApi.get_rewards_and_tasks()}),o=k.useCallback(()=>{var l;const n={Create_avator_Task:null,Invite_Task:null,Sign_In_Task:null,Be_like_Task:null,Registration_Task:null};return t.user_points=(s==null?void 0:s.data.user_points)||0,(l=s==null?void 0:s.data)==null||l.tasks.forEach(r=>{const _=I[r.name];_&&(n[_]=r,t.task_total_reward[_]=r.cycle_rewards.reduce((v,w)=>v+w.reward,0))}),t.tasks=n,t.nodes=(s==null?void 0:s.data.nodes)||null,n},[s]),{Create_avator_Task:p,Invite_Task:y,Sign_In_Task:S,Be_like_Task:f,Registration_Task:m}=k.useMemo(()=>o(),[o]);return{data:s,isPending:a,Create_avator_Task:p,Invite_Task:y,Sign_In_Task:S,Be_like_Task:f,Registration_Task:m,refetch:e}},u=c({rank:[],my_rank:null}),E=()=>T(u),b=()=>{const{data:s,isPending:a,refetch:e}=d({queryKey:["get_rank"],queryFn:()=>g.SwaggerApi.get_rank()});return k.useEffect(()=>{s!=null&&s.data&&(u.rank=s.data.ranks,u.my_rank=s.data.myrank)},[s]),{data:s,isPending:a,refetch:e}};export{E as a,C as b,b as c,h as u};
