import{r as n,J as u,A as o,j as e,M as m,d as g,B as f}from"./index-s5uGnzEF.js";import{I as j}from"./index.es-D0orM4La.js";import{u as b,a as v}from"./hoooks-BHkWAGaa.js";import{T as y,a as p}from"./index-D6exdzZJ.js";const N=({data:s,onClose:l,onPublish:i})=>{const c=n.useCallback(async()=>{if(s!=null&&s.is_public){u("The images has been made public");return}if(s!=null&&s.uuid){const r=await o.SwaggerApi.post_img_public({uuid:(s==null?void 0:s.uuid)||""});o.isSuccess(r),i==null||i()}},[s==null?void 0:s.is_public,s==null?void 0:s.uuid,i]);return e.jsxs("dialog",{id:m.style_images_detail_modal,className:"modal ",onClose:l,children:[e.jsxs("div",{className:"modal-box w-[88vw]",style:{background:"#000000"},children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm modal-close btn-circle btn-ghost absolute right-2 top-2",children:e.jsx("img",{src:"/images/close.png",alt:""})})}),e.jsx("div",{className:" flex justify-center items-center w-full  pt-7",children:e.jsx("img",{className:"w-10/12 max-h-[180px]",src:s==null?void 0:s.generated_image_path,alt:""})}),e.jsx("div",{className:" flex justify-center items-center mt-4",children:e.jsx("p",{className:"text-[10px] leading-[14px] w-10/12",children:"Your public avatar may serve as a reference for the same style. The more likes you get, the more rewards you will receive"})}),e.jsx("button",{onClick:c,className:"btn btn-primary w-full mt-[18px] mb-4",children:s!=null&&s.is_public?e.jsx("span",{className:" text-[18px]",children:"Public and share"}):e.jsxs("div",{className:" flex justify-center items-center h-full",children:[e.jsx("span",{className:" text-[18px]",children:"Public and share"}),e.jsx("img",{className:" w-[38px]",src:"/images/point.png",alt:""}),e.jsx("span",{className:"text-[18px]",children:"+ 20"})]})})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]})},w=({data:s,...l})=>e.jsxs("div",{...l,children:[e.jsxs("div",{className:" relative",children:[e.jsx("img",{className:" w-full",src:s.generated_image_path,alt:""}),s.is_public&&e.jsx("img",{className:" absolute bottom-1 right-1",src:"/images/public-tag.png",alt:""})]}),e.jsxs("div",{className:" flex justify-start items-center",children:[e.jsx("img",{src:"/images/like.png",alt:""}),e.jsx("span",{className:" ml-1 mt-1",children:s.likes})]})]}),_=({scrollableTarget:s})=>{const{data:l,refetch:i,isRefetching:c,loadMore:r,load_end:x}=b(),[d,h]=n.useState();return e.jsxs("div",{className:"cursor-pointer select-none",children:[c&&e.jsx("div",{className:" flex justify-center items-center",children:e.jsx("span",{className:"loading loading-dots loading-sm"})}),e.jsx(j,{dataLength:l.length,next:r,hasMore:!x,loader:e.jsx("div",{className:" flex justify-center items-center",children:e.jsx("span",{className:"loading loading-dots loading-sm"})}),endMessage:e.jsx("p",{style:{textAlign:"center"},children:e.jsx("b",{children:l.length===0?"No Data!":"Load ended!"})}),refreshFunction:i,scrollableTarget:s,pullDownToRefresh:!0,pullDownToRefreshThreshold:50,pullDownToRefreshContent:e.jsx("h3",{style:{textAlign:"center"},children:"↓ Pull down to refresh"}),releaseToRefreshContent:e.jsx("h3",{style:{textAlign:"center"},children:"↑ Release to refresh"}),children:e.jsx("div",{className:"grid gap-2 grid-cols-2",children:l.map(t=>e.jsx(w,{data:t,onClick:()=>{var a;h(t),console.log(t),(a=document.getElementById(m.style_images_detail_modal))==null||a.showModal()}},t.uuid))})}),e.jsx(N,{data:d,onPublish:()=>i()})]})},k=({data:s,onClose:l,onPublish:i})=>{const c=n.useCallback(async()=>{if(s!=null&&s.is_public){u("The images has been made public");return}if(s!=null&&s.uuid){const r=await o.SwaggerApi.post_img_public({uuid:(s==null?void 0:s.uuid)||""});o.isSuccess(r),i==null||i()}},[s==null?void 0:s.is_public,s==null?void 0:s.uuid,i]);return e.jsxs("dialog",{id:m.style_images_detail_modal,className:"modal ",onClose:l,children:[e.jsxs("div",{className:"modal-box w-[88vw]",style:{background:"#000000"},children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm modal-close btn-circle btn-ghost absolute right-2 top-2",children:e.jsx("img",{src:"/images/close.png",alt:""})})}),e.jsx("div",{className:" flex justify-center items-center w-full  pt-7",children:e.jsx("img",{className:"w-10/12 max-h-[180px]",src:s==null?void 0:s.name,alt:""})}),e.jsx("div",{className:" flex justify-center items-center mt-4",children:e.jsx("p",{className:"text-[10px] leading-[14px] w-10/12",children:"Your public avatar may serve as a reference for the same style. The more likes you get, the more rewards you will receive"})}),e.jsx("button",{onClick:c,className:"btn btn-primary w-full mt-[18px] mb-4",children:s!=null&&s.is_public?e.jsx("span",{className:" text-[18px]",children:"Public and share"}):e.jsxs("div",{className:" flex justify-center items-center h-full",children:[e.jsx("span",{className:" text-[18px]",children:"Public and share"}),e.jsx("img",{className:" w-[38px]",src:"/images/point.png",alt:""}),e.jsx("span",{className:"text-[18px]",children:"+ 20"})]})})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]})},T=g.div`
  box-shadow: 0px 4px 4px 0px #ffffff40;
`,M=g.div`
  box-shadow: 0px 4px 4px 0px #ffffff40;
  border-radius: 7px;
  min-width: 67px;
  text-align: center;
  height: 23px;
  line-height: 23px;
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  background-color: #5f5f5f;
  transition: all 0 3;
  margin-right: 8px;
  margin-top: 8px;
  &:hover {
    background-color: #424242;
  }
`,S=({data:s})=>{const l=n.useMemo(()=>s.tags.split(","),[s.tags]);return e.jsxs(T,{className:" mt-[15px] h-[135px] border rounded-[10px] overflow-hidden  flex",children:[e.jsx("div",{className:" relative w-[74px] h-full bg-cover bg-center",style:{backgroundImage:"url(https://picwiz-v2-dev.nyc3.cdn.digitaloceanspaces.com/picwiz-v2-dev/1724937966)"},children:s.is_public&&e.jsx("img",{className:" absolute left-1 top-1",src:"/images/public-tag.png",alt:""})}),e.jsxs("div",{className:" flex-1 h-full pt-[22px] pl-3 pr-4 ",children:[e.jsxs("div",{className:" flex justify-between items-center",children:[e.jsx("div",{children:s.name}),e.jsxs("div",{className:" flex justify-start items-center",children:[e.jsx("img",{src:"/images/like.png",alt:""}),e.jsx("span",{className:" ml-1 mt-1",children:s.likes})]})]}),e.jsxs("div",{className:" flex justify-start items-center flex-wrap h-[68px] overflow-auto pb-3",children:[l.map(i=>e.jsx(M,{children:i},i)),e.jsx("div",{className:"w-[67px] h-0"}),e.jsx("div",{className:"w-[67px] h-0"})]})]})]})},A=({scrollableTarget:s})=>{const{data:l,refetch:i,isRefetching:c,loadMore:r,load_end:x}=v(),[d,h]=n.useState();return e.jsxs("div",{className:"cursor-pointer select-none",children:[c&&e.jsx("div",{className:" flex justify-center items-center",children:e.jsx("span",{className:"loading loading-dots loading-sm"})}),e.jsx(j,{dataLength:l.length,next:r,hasMore:!x,loader:e.jsx("div",{className:" flex justify-center items-center",children:e.jsx("span",{className:"loading loading-dots loading-sm"})}),endMessage:e.jsx("p",{style:{textAlign:"center"},children:e.jsx("b",{children:l.length===0?"No Data!":"Load ended!"})}),refreshFunction:i,scrollableTarget:s,pullDownToRefresh:!0,pullDownToRefreshThreshold:50,pullDownToRefreshContent:e.jsx("h3",{style:{textAlign:"center"},children:"↓ Pull down to refresh"}),releaseToRefreshContent:e.jsx("h3",{style:{textAlign:"center"},children:"↑ Release to refresh"}),children:e.jsx("div",{className:"",children:l.map(t=>e.jsx(S,{data:t,onClick:()=>{var a;h(t),console.log(t),(a=document.getElementById(m.style_images_detail_modal))==null||a.showModal()}},t.uuid))})}),e.jsx(k,{data:d,onPublish:()=>i()})]})};function L(){const[s,l]=n.useState(1);return e.jsxs("div",{className:" h-full overflow-auto px-4",id:"scrollable_target_create_11",children:[e.jsxs("div",{className:" sticky z-10 top-0 bg-[#1c1919] pb-4",children:[e.jsx(f,{title:"My Create"}),e.jsx("div",{className:" mt-4",children:e.jsxs(y,{total:2,active:s,children:[e.jsx(p,{onClick:()=>{l(0)},children:"My avatar"}),e.jsx(p,{onClick:()=>{l(1)},children:"My style"})]})})]}),e.jsxs("div",{className:" mt-4",children:[e.jsx("div",{className:s===0?"":"hidden",children:e.jsx(_,{scrollableTarget:"scrollable_target_create_11"})}),e.jsx("div",{className:s===1?"":"hidden",children:e.jsx(A,{scrollableTarget:"scrollable_target_create_11"})})]})]})}export{L as default};
