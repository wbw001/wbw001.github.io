import{u as f,r as m,A as j,j as e,M as p,B as v,S,h as k,a as g,d as y}from"./index-BQlHkYyk.js";import{b as C,c as A,S as M,s as D,a as T,u as _}from"./actions-B074QDhP.js";import{I}from"./index.es-CttrZYXv.js";const R=({styles:t,onClose:x})=>{var u;const{data:r,refetch:d,isRefetching:h,loadMore:o,load_end:a}=C(t==null?void 0:t.uuid),s=f(),[n,i]=m.useState(0),N=m.useCallback(async(l,b)=>{if(l){const w=await j.SwaggerApi.post_styles_like({uuid:l});j.isSuccess(w)&&i((b||0)+1)}},[]),{detail:c}=A(t==null?void 0:t.uuid);return m.useEffect(()=>{i(0)},[t==null?void 0:t.uuid]),e.jsxs("dialog",{id:p.style_detail_modal,className:"modal",onClose:x,children:[e.jsxs("div",{className:"modal-box",children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm modal-close btn-circle btn-ghost absolute right-2 top-2",children:e.jsx("img",{src:"/images/close.png",alt:""})})}),e.jsxs("div",{className:" flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-[24px]",children:t==null?void 0:t.name}),e.jsxs("div",{className:" flex justify-start items-center mt-1",children:[e.jsx("div",{className:"avatar placeholder",children:e.jsx("div",{className:"bg-neutral text-neutral-content w-8 rounded-full",children:e.jsx("span",{className:"text-xs",children:((u=c==null?void 0:c.data.name)==null?void 0:u.slice(0,2))||""})})}),e.jsxs("span",{className:" text-[10px]  ml-2",children:["Created by ",c==null?void 0:c.data.name]})]})]}),e.jsxs("div",{className:"tips1",children:[e.jsxs("div",{className:" flex items-center justify-end",children:[e.jsx("button",{onClick:()=>{N(t==null?void 0:t.uuid,t==null?void 0:t.likes)},className:"btn btn-text",children:e.jsx("img",{src:"/images/like.png",alt:""})}),e.jsx("span",{className:" ml-2 text-[12px]",children:n||(t==null?void 0:t.likes)})]}),e.jsxs("div",{className:" flex items-center justify-end mt-2",children:[e.jsx("img",{className:" w-[22px]",src:"/images/point.png",alt:""}),e.jsxs("span",{children:["+",t==null?void 0:t.loyalty_points]})]})]})]}),e.jsx("p",{className:"pt-[7px] pb-1 text-[14px]",children:"View the output generated by other DAO members for reference"}),e.jsxs("div",{className:"  h-[252px] overflow-auto",children:[h&&e.jsx("div",{className:" flex justify-center items-center",children:e.jsx("span",{className:"loading loading-dots loading-sm"})}),e.jsx(I,{dataLength:r.length,next:o,hasMore:!a,loader:e.jsx("div",{className:" flex justify-center items-center",children:e.jsx("span",{className:"loading loading-dots loading-sm"})}),endMessage:e.jsx("p",{style:{textAlign:"center"},children:e.jsx("b",{children:r.length===0?"No Data!":"Load ended!"})}),refreshFunction:d,pullDownToRefresh:!0,pullDownToRefreshThreshold:50,pullDownToRefreshContent:e.jsx("h3",{style:{textAlign:"center"},children:"↓ Pull down to refresh"}),releaseToRefreshContent:e.jsx("h3",{style:{textAlign:"center"},children:"↑ Release to refresh"}),children:e.jsx("div",{className:"grid gap-2 grid-cols-2",children:r.map(l=>e.jsx("div",{className:"",children:e.jsx(M,{data:l})},l.uuid))})})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{onClick:()=>{var l;(l=document.getElementById(p.style_detail_modal))==null||l.showModal(),D(t),s(-1)},className:" btn btn-primary",children:e.jsx("span",{className:" text-[16px]",children:"Use this style"})})})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]})},B=R,E=y.div`
  width: 100vw;
  /* height: 50px; */
  .swiper {
    width: 100%;
    height: 100%;
  }
  .swiper-wrapper {
    transition-timing-function: linear;
  }

  .swiper-slide {
    text-align: center;
    font-size: 18px;

    /* Center slide text vertically */
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`;function P(){const[t,x]=m.useState();T();const r=f(),{styles:d}=_(),h=m.useMemo(()=>{const o=Math.floor(d.length/2);return d.reduce((a,s,n)=>{const i=n%o;return a[i]=a[i].concat(s),a},[[],[],[],[]])},[d]);return e.jsxs("div",{className:"h-full relative",children:[e.jsx(v,{title:"created by contributer"}),e.jsx("div",{className:" text-poppins-bold text-[49px] ml-[30px]",children:"The styles"}),e.jsx("div",{children:h.map((o,a)=>e.jsx(E,{className:" mt-5",children:e.jsxs(S,{slidesPerView:2,spaceBetween:30,pagination:{clickable:!0},loop:!0,speed:2e3-a*200,autoplay:{delay:0},modules:[k],className:"mySwiper",onAfterInit:s=>{setTimeout(()=>{var n;(n=s==null?void 0:s.autoplay)==null||n.start()},800+a*400)},children:[e.jsx(g,{className:" w-4"}),o.map((s,n)=>e.jsx(g,{style:{paddingTop:n%2===0?"0":"8px"},children:e.jsx("button",{className:"box-shadow1 btn btn-outline h-[56x] min-w-[180px]",style:{background:(t==null?void 0:t.uuid)===s.uuid?"#948C8C":void 0},onClick:()=>{var i;x(s),(i=document.getElementById(p.style_detail_modal))==null||i.showModal()},children:e.jsx("span",{className:" text-sm",children:s.name})})},s.uuid))]})},a))}),e.jsx("div",{className:" flex justify-center absolute  bottom-16 w-full",children:e.jsx("button",{style:{display:t?"none":"block"},onClick:()=>{r("/create_style")},className:" btn btn-primary",children:e.jsx("span",{className:" text-[16px]",children:"Create my own style prompt"})})}),e.jsx(B,{styles:t,onClose:()=>{x(void 0)}})]})}export{P as default};
